# 时分共享所要求的虚拟化

时分共享CPU: 运行一个程序一个时间片的时间,然后运行另一个程序一个时间片的时间,以时间片的单位不断切换CPU的控制权

这过程有两个问题:
1. 如何有效执行程序,并保证操作系统对CPU的控制权？
硬件(处理器)增加用户模式和内核模式,对代码的行为进行限制;
提供系统调用来允许用户请求特权操作

2. 如何实现切换,且保证切换的性能不损耗太大？
a. 时钟中断(timer interrupt)
   定期的中断 控制权转移中断处理程序,从而保证CPU控制权
b. 上下文切换(context switch)
   保存通用寄存器、程序计数器、当前程序的内核栈指针